(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[723],{2173:function(e,t,a){"use strict";a.d(t,{c:function(){return p}});var i=a(2322),n=a(9097),r=a.n(n),s=a(2784),l=a(7037),c=a(5598),o=a(4807),d=(a(9241),a(9604)),u=a(4030),h=a(1551),g=a(1893),x=function(e){var t=e.width;return(0,i.jsx)("div",{className:"skeleton",style:{width:t}})},m=a(2367),v=a(3552),y=a(8387),p=function(e){var t=e.target,a=e.showDateInside,n=e.lazy,p=void 0===n||n,f=(0,g.a)(),j=(0,s.useState)(!1),T=j[0],_=j[1],b=(0,s.useState)(),S=b[0],k=b[1],N=(0,s.useState)(""),w=N[0],D=N[1],z=(0,s.useContext)(v.k).streak;(0,s.useEffect)((function(){S&&t&&D((0,m.qA)({score:S.score,codeSize:S.codeSize,levelId:t.id,isDaily:!0,date:t.formattedDate,streak:null===z||void 0===z?void 0:z.count}))}),[t,S]),(0,s.useEffect)((function(){"dummy"!==t.id&&(null===f||void 0===f?void 0:f.uid)&&(_(!0),(0,l.kP)({playerId:f.uid,levelId:t.id}).then((function(e){k(e)})).finally((function(){_(!1)})))}),[null===t||void 0===t?void 0:t.id,null===f||void 0===f?void 0:f.uid]);var P=(0,u.isTodaysDailyTarget)(t),C=(0,u.isYesterdaysDailyTarget)(t);return(0,i.jsxs)(c.VStack,{gap:"1rem",children:[!a&&(0,i.jsxs)("div",{className:"pill ".concat(S?"pill--success":""," "),children:[S?(0,i.jsx)(d.J,{name:"tick-round",size:"1em",color:"white"}):null," ",t.formattedDate,P?" (Today) ":""]}),(0,i.jsx)("div",{className:P?"target-today":"",children:(0,i.jsx)(o.i,{target:t,data:S,showTags:a,lazy:p,useCdnUrl:!0,children:(0,i.jsx)("div",{style:{padding:"1rem 1rem 0.5rem"},children:"dummy"!==t.id?(0,i.jsxs)(c.HStack,{justify:"space-between",children:[(0,i.jsx)("div",{className:"daily-target-text",children:(0,i.jsxs)(c.VStack,{gap:"0",align:"flex-start",children:[(0,i.jsx)("p",{className:"daily-target-text__title",children:"Your score"}),(0,i.jsx)("div",{className:"daily-target-text__score",children:T?(0,i.jsx)(x,{width:"6ch"}):S?"".concat(S.score||S.overall.score," {").concat(S.codeSize||S.overall.codeSize,"}"):"Not played"})]})}),(0,i.jsxs)(c.HStack,{extend:!0,gap:"0.5rem",children:[P&&S?(0,i.jsx)("a",{href:"https://twitter.com/share?url=https://cssbattle.dev/play/".concat(null===t||void 0===t?void 0:t.id,"&text=").concat(w,"&hashtags=CSSBattleChallenge&via=css_battle&related=css_battle"),target:"_blank",rel:"external noopener noreferrer",className:"button button--circular",children:(0,i.jsx)(d.J,{name:"twitter",color:"var(--clr-text-light)",marginRight:"0",size:"20"})}):null,C&&!(null===f||void 0===f?void 0:f.isPro)?(0,i.jsx)(r(),{href:{pathname:"/play/".concat(t.id),query:{openTopSolutions:!0}},children:(0,i.jsx)("a",{className:(0,u.isTodaysDailyTarget)(t)?"button--primary button button--circular":"button button--circular",children:(0,i.jsx)(d.J,{name:"open-book",color:(0,u.isTodaysDailyTarget)(t)?"var(--clr-btn-text)":"var(--clr-text-light)",marginRight:"0",size:"20"})})}):P||(null===f||void 0===f?void 0:f.isPro)?(0,i.jsx)(r(),{href:"/play/".concat(t.id),children:(0,i.jsx)("a",{className:(0,u.isTodaysDailyTarget)(t)?"button--primary button button--circular":"button button--circular",children:(0,i.jsx)(d.J,{name:"play",color:(0,u.isTodaysDailyTarget)(t)?"var(--clr-btn-text)":"var(--clr-text-light)",marginRight:"0",size:"20"})})}):(0,i.jsx)(y.Z,{})]})]}):(0,i.jsxs)("div",{className:"daily-target-text",children:[(0,i.jsx)("p",{className:"daily-target-text__title",style:{textAlign:"center"},children:"Unlocks in"}),(0,i.jsx)("div",{style:{marginTop:"0.5rem"},children:(0,i.jsx)(h.W,{showEmoji:!1,suffix:"",date:1e3*t.date,size:"0.1",showUnits:!1})})]})})})})]})}},3638:function(e,t,a){"use strict";a.d(t,{J:function(){return u}});var i=a(2322),n=a(2784),r=a(7037),s=a(5416),l=a(5598),c=a(9241),o=a(2173),d=a(2367),u=function(e){var t=e.showFreeOnly,a=e.count,u=void 0===a?6:a,h=(0,n.useState)(),g=h[0],x=h[1];return(0,n.useEffect)((function(){(0,r.rz)(u).then((function(e){var a=e.slice();a.forEach((function(e,t){e.formattedDate=(0,d.dQ)(e.startDate)})),(t||(0,d.tq)())&&(a=a.slice(0,2));var i=+new Date(a[0].startDate.seconds)+86400;a.reverse().push({id:"dummy",image:"/targets/0.png?v=2",formattedDate:"Tomorrow",date:i}),x(a)}))}),[]),(0,n.useEffect)((function(){if(!(0,d.tq)()){var e=document.querySelector(".target-today");e&&e.scrollIntoView({inline:"center",block:"nearest"})}}),[g]),(0,i.jsxs)(s.s,{padding:"0",topFocus:t,children:[(0,i.jsx)("div",{style:{padding:"2rem"},className:"home-daily-target-panel no-scrollbar",children:g?(0,i.jsx)(l.HStack,{gap:"2rem",align:"flex-start",justify:t&&!(0,d.tq)()?"center":"flex-start",children:g.map((function(e,a){return(0,i.jsx)("div",{style:{paddingLeft:0!=a||(0,d.tq)()||t?0:"10%",paddingRight:"dummy"!=e.id||t?0:"40%"},children:(0,i.jsx)(o.c,{target:e,lazy:!1})},e.id)}))}):(0,i.jsx)(c.R,{children:"Fetching Daily targets..."})}),(0,i.jsx)("div",{className:"".concat(!t&&"daily-targets-shadowed")})]})}},8431:function(e,t,a){"use strict";a.d(t,{x:function(){return u}});var i=a(2322),n=a(9604),r=a(5598),s=a(3196),l=a.n(s),c=a(7841),o=a(8329),d=a(3125),u=function(e){var t=e.icon,a=e.showProBadge,s=e.title,u=e.subtitle;return(0,i.jsx)(d.E.div,{className:l().innerPageHeader,initial:{opacity:0},exit:{opacity:0},animate:{opacity:1},children:(0,i.jsxs)(r.VStack,{children:[t?(0,i.jsx)(n.J,{size:"32",marginRight:"0",name:t,color:"var(--clr-brand)"}):null,a?(0,i.jsx)(o.Z,{height:"24"}):null,(0,i.jsx)(c.x,{size:4,weight:"600",mono:!1,tag:"h1",appearance:"primary",children:s}),(0,i.jsx)("div",{style:{maxWidth:"72ch"},children:(0,i.jsx)(c.x,{size:1,weight:"500",mono:!1,tag:"p",letterSpacing:"0.3px",appearance:"secondary",lineHeight:"1.5",align:"center",children:u})})]})})}},4987:function(e,t,a){"use strict";a.d(t,{O:function(){return c},s:function(){return o}});var i=a(2322),n=a(3125),r=a(2784),s=a(9721),l=a.n(s),c=function(e){var t=e.onChange,a=e.defaultChecked,r=e.selected,s=e.value,c=e.primary,o=e.highlightId,d=e.children;return(0,i.jsxs)("label",{className:"".concat(l().radioTabBtn," ").concat(c&&l().radioTabBtnPrimary),children:[(0,i.jsx)("input",{type:"radio",name:"tab",value:s,defaultChecked:a,onChange:t}),r?(0,i.jsx)(n.E.div,{layoutId:o,className:"".concat(l().activeIndicator," ").concat(c&&l().activeIndicatorPrimary)}):null,(0,i.jsx)("div",{style:{position:"relative",color:r?"var(--clr-link)":"var(--clr-text)",transition:"0.3s ease"},children:d})]})},o=function(e){var t=e.options,a=e.customOptions,n=e.onChange,s=e.value,o=e.fullWidth,d=void 0!==o&&o,u=e.primary,h=void 0!==u&&u,g=e.classes,x=void 0===g?"":g,m=(0,r.useId)();return(0,i.jsxs)("div",{className:"".concat(l().radioTabs," ").concat(d&&l().radioTabsFullWidth," ").concat(h&&l().radioTabsPrimary," ").concat(x),children:[t.map((function(e,t){return(0,i.jsx)(c,{onChange:n,value:e.value,selected:s===e.value,primary:h,highlightId:m,children:e.label},e.value)})),a]})}},723:function(e,t,a){"use strict";a.r(t),a.d(t,{DailyTargetsStatsTile:function(){return I},default:function(){return E}});var i=a(2322),n=a(2784),r=a(7729),s=a.n(r),l=a(3638),c=a(5598),o=a(5314),d=a.n(o),u=a(9604),h=a(8431),g=a(8329),x=a(7841),m=a(4987),v=a(7037),y=a(5923),p=a.n(y),f=a(2173),j=a(1893),T=a(3125),_=a(9241),b=a(5416),S=a(2367),k=a(2220),N="All targets",w="Played",D="Not played",z=function(e,t){return"".concat(["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][t]," ").concat(e)},P=function(e){var t=e.filter,a=e.onAllFilterClick,r=(0,n.useState)(),s=r[0],l=r[1],o=(0,n.useState)(),d=o[0],u=o[1],h=(0,n.useState)(!1),g=h[0],m=h[1],y=(0,j.a)();return(0,n.useEffect)((function(){m(!0);var e=(null===y||void 0===y?void 0:y.isPro)?400:30;(0,v.rz)(e).then((function(e){var t=e.slice();t.forEach((function(e,t){e.formattedDate=(0,S.dQ)(e.startDate),(null===y||void 0===y?void 0:y.uid)&&(0,v.kP)({playerId:y.uid,levelId:e.id}).then((function(t){t&&(e.isPlayed=!0)}))})),l(t)}))}),[null===y||void 0===y?void 0:y.isPro]),(0,n.useEffect)((function(){s&&(u(t===w?s.filter((function(e){return e.isPlayed})):t===D?s.filter((function(e){return!e.isPlayed})):s),m(!1))}),[t,s]),g?(0,i.jsx)(_.a,{}):d&&!d.length?(0,i.jsx)(b.s,{onlyBorder:!0,children:(0,i.jsxs)(c.VStack,{children:[(0,i.jsx)(x.x,{mono:!1,size:"1",weight:"500",children:"No targets found for this filter"}),(0,i.jsx)("button",{className:"button",onClick:a,children:"View all targets"})]})}):d?(0,i.jsxs)(c.VStack,{gap:"2rem",align:"stretch",children:[(0,i.jsx)(C,{targets:d}),!(null===y||void 0===y?void 0:y.isPro)&&(0,i.jsx)(c.HStack,{justify:"center",children:(0,i.jsx)(x.x,{mono:!1,size:"1",weight:"500",children:"and hundreds more with PLUS!"})})]}):void 0},C=function(e){var t=e.targets,a=(0,n.useState)(new Date),r=a[0],s=a[1],l=(0,j.a)();return(0,i.jsxs)(c.VStack,{gap:"2rem",align:"stretch",children:[(0,i.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",gap:"1rem",pointerEvents:(null===l||void 0===l?void 0:l.isPro)?null:"none",opacity:(null===l||void 0===l?void 0:l.isPro)?null:.5},children:[(0,i.jsx)(k.z,{onClick:function(){s(new Date(r.getFullYear(),r.getMonth()-1,1))},children:(0,i.jsx)("span",{style:{transform:"rotate(180deg)"},children:(0,i.jsx)(u.J,{name:"chevron-right",size:"1em",marginRight:"0"})})}),(0,i.jsx)(x.x,{size:"2",weight:"600",mono:!1,tag:"h2",appearance:"primary",children:r.toLocaleString("default",{month:"long",year:"numeric"})}),(0,i.jsx)(k.z,{onClick:function(){s(new Date(r.getFullYear(),r.getMonth()+1,1))},children:(0,i.jsx)(u.J,{name:"chevron-right",size:"1em",marginRight:"0"})})]}),(0,i.jsxs)("div",{className:p().calendarGrid,children:[["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map((function(e){return(0,i.jsx)("div",{className:"calendar__weekdays",style:{textAlign:"center",fontWeight:"bold",textTransform:"uppercase"},children:e},e)})),function(){for(var e,a=function(e){var a=t.filter((function(t){var a=t.startDate.toDate(),i=a.getUTCDate(),n=a.getUTCMonth(),s=a.getUTCFullYear();return console.log(i,e,n,r.getMonth(),s,r.getFullYear()),i===e&&n===r.getMonth()&&s===r.getFullYear()}))[0];l.push((0,i.jsx)(T.E.div,{className:"target-primary",style:{height:"100%"},children:a?(0,i.jsx)(f.c,{target:a,showDateInside:!0}):(0,i.jsx)("div",{className:"target-tile--daily target-tile",style:{blockSize:"100%",minBlockSize:"4rem",pointerEvents:"none"},children:(0,i.jsx)("div",{className:"target-tile__info",children:(0,i.jsx)("div",{className:"target-top-info",children:(0,i.jsx)("p",{className:"target-top-info__pill",children:z(e,r.getMonth())})})})})}))},n=(e=r,new Date(e.getFullYear(),e.getMonth()+1,0).getDate()),s=function(e){return new Date(e.getFullYear(),e.getMonth(),1).getDay()}(r),l=[],c=0;c<s;c++)l.push((0,i.jsx)(T.E.div,{className:"target-primary",style:{height:"100%"},children:(0,i.jsx)("div",{className:"target-tile--daily target-tile",style:{height:"100%",pointerEvents:"none",opacity:.5}},"empty-".concat(c))}));for(var o=1;o<=n;o++)a(o);return l}()]})]})},I=function(e){var t=e.icon,a=e.name,n=e.value,r=e.naked;return(0,i.jsx)("div",{className:"".concat(d().statsTile," ").concat(r?d().statsTileNaked:""),children:(0,i.jsxs)(c.HStack,{gap:"0",children:[(0,i.jsx)("div",{className:d().statsTileIcon,children:(0,i.jsx)(u.J,{name:t,size:"1.5rem",marginRight:"0"})}),(0,i.jsx)("div",{className:d().statsTileText,children:(0,i.jsxs)(c.VStack,{align:"flex-start",gap:"0",children:[(0,i.jsx)("p",{className:d().statsTileName,children:a}),(0,i.jsx)("p",{className:d().statsTileValue,children:n})]})})]})})},E=function(){var e=(0,j.a)(),t=(0,n.useState)(N),a=t[0],r=t[1],o=(0,n.useState)(),d=o[0],u=o[1];return(0,n.useEffect)((function(){(null===e||void 0===e?void 0:e.uid)&&(0,v.QC)(e.uid).then((function(e){u(e)}))}),[null===e||void 0===e?void 0:e.uid]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(s(),{children:[(0,i.jsx)("title",{children:"Daily Targets | CSSBattle"},"title"),(0,i.jsx)("meta",{property:"og:title",content:"Daily Targets - CSSBattle"},"ogTitle")]}),(0,i.jsx)(h.x,{icon:"daily-targets",title:"Daily Targets",subtitle:"A new target everyday for you to unwind. No leaderboards, no competition"}),(0,i.jsx)(T.E.div,{style:{marginTop:"3rem"},initial:{opacity:0},exit:{opacity:0},animate:{opacity:1},children:(0,i.jsx)(l.J,{showFreeOnly:!0,count:2})}),!!d&&(0,i.jsx)(T.E.div,{layout:!0,style:{marginTop:"2rem"},initial:{y:-10,opacity:0},exit:{y:-10,opacity:0},animate:{y:0,opacity:1,transition:{delay:.2}},children:(0,i.jsx)(b.s,{children:(0,i.jsxs)(c.VStack,{align:"stretch",children:[(0,i.jsx)(x.x,{size:"3",weight:"600",mono:!1,tag:"h2",appearance:"primary",children:"Your overall stats"}),(0,i.jsxs)(c.HStack,{gap:"1rem",justify:"stretch",responsive:!0,children:[(0,i.jsx)(I,{icon:"target",name:"Targets played",value:d.playedCount}),(0,i.jsx)(I,{icon:"percent",name:"Avg match percent",value:d.averageMatch+"%"}),(0,i.jsx)(I,{icon:"characters",name:"Avg characters",value:d.averageCodeSize}),(0,i.jsx)(I,{icon:"tags",name:"Most used properties",value:d.properties.slice(0,3).join(", ")})]})]})})}),(0,i.jsx)(T.E.div,{layout:!0,style:{marginTop:"4rem"},initial:{y:-10,opacity:0},exit:{y:-10,opacity:0},animate:{y:0,opacity:1,transition:{delay:.2}},children:(0,i.jsxs)(c.VStack,{gap:"2rem",align:"stretch",children:[(0,i.jsxs)(c.HStack,{justify:"space-between",responsive:!0,children:[(0,i.jsxs)(c.VStack,{gap:"0.5rem",align:"flex-start",children:[(0,i.jsxs)(c.HStack,{gap:"0.5rem",children:[(0,i.jsx)(x.x,{size:"3",weight:"600",mono:!1,tag:"h2",appearance:"primary",children:"Previous targets"}),(0,i.jsx)(g.Z,{})]}),(0,i.jsx)("div",{style:{maxWidth:"64ch"},children:(0,i.jsx)(x.x,{size:1,weight:"500",mono:!1,tag:"p",letterSpacing:"0.3px",appearance:"secondary",children:"Want more? Play the previously released targets. You can also view the top solutions of all previous targets"})})]}),(0,i.jsx)(m.s,{options:[{label:N,value:N},{label:D,value:D},{label:w,value:w}],value:a,onChange:function(e){r(e.target.value)},primary:!0})]}),(0,i.jsx)(P,{filter:a,onAllFilterClick:function(){r(N)}})]})})]})}},3196:function(e){e.exports={innerPageHeader:"InnerPageHeader_innerPageHeader__HSMOC"}},5923:function(e){e.exports={calendarGrid:"PreviousDailyTargets_calendarGrid__0hDp4"}},9721:function(e){e.exports={radioTabs:"RadioTabs_radioTabs__d9zDK",radioTabsFullWidth:"RadioTabs_radioTabsFullWidth__oq2fN",radioTabsPrimary:"RadioTabs_radioTabsPrimary__igl35",radioTabBtn:"RadioTabs_radioTabBtn__aLbrp",radioTabBtnPrimary:"RadioTabs_radioTabBtnPrimary__Nyq78",activeIndicator:"RadioTabs_activeIndicator___CbYq",activeIndicatorPrimary:"RadioTabs_activeIndicatorPrimary__8jTez"}},5314:function(e){e.exports={statsTile:"daily_statsTile__iIBQR",statsTileNaked:"daily_statsTileNaked__4qSJf",statsTileText:"daily_statsTileText__pvZFR",statsTileIcon:"daily_statsTileIcon__0sSAw",statsTileName:"daily_statsTileName__55m00",statsTileValue:"daily_statsTileValue__5VzaP"}}}]);
//# sourceMappingURL=723-c619618294190e4a.js.map