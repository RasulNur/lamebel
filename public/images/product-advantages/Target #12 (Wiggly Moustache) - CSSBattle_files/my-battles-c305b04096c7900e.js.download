(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1897],{4747:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/my-battles",function(){return n(2779)}])},6833:function(e,t,n){"use strict";n.d(t,{w:function(){return f}});var a=n(865),i=n(6670),r=n(2322),s=n(2784),l=n(5632),c=n(2220),d=n(384),o=n(1251),u=n(9604),h=n(7037),x=n(1255),m=n(1893),j=n(7841),p=n(5598),f=function(e){var t=e.isOpen,n=e.onRequestClose,f=((0,l.useRouter)(),(0,x.p)("An awesome battle")),g=(0,s.useState)(!1),y=g[0],v=g[1],b=(0,m.a)();return(0,r.jsxs)(d.u,{isOpen:t,size:"small",extraClasses:"modal--text-center",children:[(0,r.jsx)("div",{style:{margin:"1rem 0 0.2rem"},children:(0,r.jsx)(u.J,{name:"battle",size:"48"})}),(0,r.jsx)("h2",{style:{marginBottom:"2rem"},children:"Host a Battle"}),(0,r.jsxs)(p.VStack,{gap:"0.5rem",children:[(0,r.jsxs)(j.x,{tag:"p",size:1,lineHeight:"1.6",children:["Hosting a conference, meetup, company engineering event or just want to have some nerd fun?"," ",(0,r.jsx)("a",{href:"/blog/introducing-custom-battles",className:"link",target:"_blank",children:"Read more about Custom Battles"}),"."]}),(0,r.jsx)(j.x,{tag:"p",size:1,lineHeight:"1.6",children:"Create your own battles with custom targets, leaderboards, and, duration. Enter a nice name for your battle to proceed:"})]}),(0,r.jsx)(o.xu,{style:{marginTop:"2.5rem"},children:(0,r.jsxs)("form",{onSubmit:function(e){e.preventDefault(),v(!0),(0,h.pn)({userId:b.uid,battle:{name:f.value,duration:30},levels:[]}).then((function(e){v(!1),location.href="/battle/create/".concat(e)}))},children:[(0,r.jsx)(o.II,(0,i.Z)((0,a.Z)({label:"Battle name"},f.input),{required:!0})),(0,r.jsxs)(o.hE,{center:!0,children:[(0,r.jsx)(c.z,{onClick:n,children:"Cancel"}),(0,r.jsx)(c.z,{type:"submit",isLoading:y,primary:!0,children:"Configure Battle"})]})]})})]})}},1453:function(e,t,n){"use strict";n.d(t,{M:function(){return s}});var a=n(2322),i=n(6746),r=n(5598);function s(e){var t=e.children,n=e.sticky,s=e.keyCombo,l=e.extraContent,c=e.meta;s&&s.split("+");return(0,a.jsxs)("div",{className:"item__header  ".concat(n?"item__header--sticky":""),children:[(0,a.jsxs)(r.HStack,{gap:"0.5rem",children:[(0,a.jsx)("h3",{className:"header__title",children:t}),l,s?(0,a.jsx)(i.M,{value:s}):null]}),(0,a.jsx)("div",{className:"header__extra-info",children:c})]})}},8431:function(e,t,n){"use strict";n.d(t,{x:function(){return u}});var a=n(2322),i=n(9604),r=n(5598),s=n(3196),l=n.n(s),c=n(7841),d=n(8329),o=n(3125),u=function(e){var t=e.icon,n=e.showProBadge,s=e.title,u=e.subtitle;return(0,a.jsx)(o.E.div,{className:l().innerPageHeader,initial:{opacity:0},exit:{opacity:0},animate:{opacity:1},children:(0,a.jsxs)(r.VStack,{children:[t?(0,a.jsx)(i.J,{size:"32",marginRight:"0",name:t,color:"var(--clr-brand)"}):null,n?(0,a.jsx)(d.Z,{height:"24"}):null,(0,a.jsx)(c.x,{size:4,weight:"600",mono:!1,tag:"h1",appearance:"primary",children:s}),(0,a.jsx)("div",{style:{maxWidth:"72ch"},children:(0,a.jsx)(c.x,{size:1,weight:"500",mono:!1,tag:"p",letterSpacing:"0.3px",appearance:"secondary",lineHeight:"1.5",align:"center",children:u})})]})})}},6746:function(e,t,n){"use strict";n.d(t,{M:function(){return d}});var a=n(6383),i=n(930),r=n(2322),s=n(2784),l=n(5598);function c(e){return"Control"===e?"ctrl":e.toLowerCase()}var d=function(e){var t=e.value,n=t&&t.split("+"),d=(0,a.Z)(s.useState([]),2),o=d[0],u=d[1];(0,s.useEffect)((function(){var e=function(e){var t=c(e.key);n.includes(t)&&!o.includes(t)&&(o.push(t),u((0,i.Z)(o)))},t=function(e){var t=c(e.key);n.includes(t)&&o.includes(t)&&(o.splice(o.indexOf(t),1),u((0,i.Z)(o)))};return document.body.addEventListener("keydown",e,{capture:!0}),document.body.addEventListener("keyup",t,{capture:!0}),function(){removeEventListener("keydown",e),removeEventListener("keyup",t)}}),[]);o.length;return(0,r.jsx)(l.HStack,{gap:"0.25rem",children:n&&n.map((function(e,t){return(0,r.jsx)("p",{className:"pill  pill--key ".concat(o.includes(e)?"pill--key-pressed":""),children:e},t)}))})}},384:function(e,t,n){"use strict";n.d(t,{u:function(){return j}});var a=n(865),i=n(6670),r=n(6297),s=n(2322),l=(n(2784),n(4710)),c=n(3125),d=n(3517),o=n(5239),u=n(1453),h=(0,c.E)(l.cZ),x=(0,c.E)(l.t9),m={type:"spring",damping:9,stiffness:120,duration:500};function j(e){var t=e.isOpen,n=e.onRequestClose,l=e.size,c=void 0===l?"big":l,j=e.extraClasses,p=e.header,f=e.title,g=e.hideOverlay,y=e.children,v=(0,r.Z)(e,["isOpen","onRequestClose","size","extraClasses","header","title","hideOverlay","children"]),b=(0,d.J)();return(0,s.jsx)(o.M,{children:t?(0,s.jsx)(x,(0,i.Z)((0,a.Z)({initial:{opacity:0},animate:{opacity:1,transition:{duration:.3}},exit:{opacity:0,transition:{duration:.2}},style:{background:g?"transparent":null},isOpen:t,onDismiss:n},v),{children:(0,s.jsxs)(h,{className:"modal--".concat(c," ").concat(j),transition:b?{duration:500}:m,initial:{y:b?0:-100},animate:{y:0},exit:{opacity:0,y:b?0:-200,transition:{duration:.2}},"aria-label":f,children:[p?(0,s.jsx)(u.M,{children:p}):null,(0,s.jsx)("div",{style:{padding:"2rem"},children:y})]})})):null})}},1255:function(e,t,n){"use strict";n.d(t,{p:function(){return i}});var a=n(2784);function i(e){var t=(0,a.useState)(e),n=t[0],i=t[1];return{input:{value:n,onChange:function(e,t){if(void 0!==t)return i(t);i("checkbox"===e.target.type?e.target.checked:e.target.value)}},value:n,setValue:i}}},2779:function(e,t,n){"use strict";n.r(t);var a=n(865),i=n(6670),r=n(2322),s=n(2784),l=n(7500),c=(n(1453),n(2220)),d=n(7037),o=n(1893),u=n(3029),h=n(6833),x=n(7729),m=n.n(x),j=n(8431);t.default=function(){var e=(0,o.a)(),t=(0,s.useState)([]),n=t[0],x=t[1],p=(0,s.useState)([]),f=p[0],g=p[1],y=(0,s.useState)(!1),v=y[0],b=y[1];return(0,s.useEffect)((function(){e&&(0,d.CU)(e.uid).then((function(e){e=e.map((function(e){return(0,i.Z)((0,a.Z)({},e),{updatedOnHumanReadable:new Date(1e3*(e.updatedOn?e.updatedOn.seconds:e.createdOn.seconds))})})),x(e)}))}),[e?e.uid:""]),(0,s.useEffect)((function(){e&&(0,d.g5)(e.uid).then((function(e){e=e.sort((function(e,t){return t.lastUpdated.seconds-e.lastUpdated.seconds})).map((function(e){return(0,i.Z)((0,a.Z)({},e),{playedOnHumanReadable:new Date(1e3*e.lastUpdated.seconds)})})),g(e)}))}),[e?e.uid:""]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(m(),{children:(0,r.jsxs)(m(),{children:[(0,r.jsx)("title",{children:"My Battles | CSSBattle"},"title"),(0,r.jsx)("meta",{property:"og:title",content:"My Battles | CSSBattle"},"ogTitle")]})}),(0,r.jsx)(j.x,{icon:"battle",title:"My Battles"}),(0,r.jsx)("div",{className:"",children:(0,r.jsxs)("div",{className:"item__content",children:[(0,r.jsxs)("div",{className:"inner-header inner-header--inner-page",children:[(0,r.jsx)("h4",{className:"header__title header__title--inner",children:"Played Battles"}),(0,r.jsx)("p",{className:"key-combo key-combo--inner-header",children:f.length})]}),(0,r.jsxs)("table",{className:"table",style:{marginTop:"2rem"},children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{children:"No."}),(0,r.jsx)("th",{children:"Battle name"}),(0,r.jsx)("th",{children:"Status"}),(0,r.jsx)("th",{children:"Last Played"}),(0,r.jsx)("th",{})]})}),(0,r.jsx)("tbody",{children:f.map((function(e,t){return(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:t+1}),(0,r.jsx)("td",{children:e.name}),(0,r.jsx)("td",{children:(0,r.jsx)(u.k,{status:(0,l.getBattleStatus)(e)})}),(0,r.jsx)("td",{children:e.playedOnHumanReadable.toLocaleString()}),(0,r.jsx)("td",{children:(0,r.jsx)("a",{className:"link",href:"/battle/".concat(e.battleId),children:"View battle"})})]},e.id)}))})]}),(0,r.jsxs)("div",{className:"inner-header inner-header--inner-page",children:[(0,r.jsx)("h4",{className:"header__title header__title--inner",children:"Created Battles"}),(0,r.jsx)("p",{className:"key-combo key-combo--inner-header",children:n.length})]}),(0,r.jsxs)("table",{className:"table",style:{marginTop:"2rem"},children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{children:"No."}),(0,r.jsx)("th",{children:"Battle name"}),(0,r.jsx)("th",{children:"Status"}),(0,r.jsx)("th",{children:"Last updated on"}),(0,r.jsx)("th",{}),(0,r.jsx)("th",{})]})}),(0,r.jsx)("tbody",{children:n.map((function(e,t){return(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:t+1}),(0,r.jsx)("td",{children:e.name}),(0,r.jsx)("td",{children:(0,r.jsx)(u.k,{status:(0,l.getBattleStatus)(e)})}),(0,r.jsx)("td",{children:e.updatedOnHumanReadable.toLocaleString()}),(0,r.jsx)("td",{children:(0,r.jsx)("a",{className:"link",href:"/battle/".concat(e.id),children:"View battle"})}),(0,r.jsx)("td",{children:(0,r.jsx)("a",{className:"link",href:"/battle/create/".concat(e.id),"aria-label":"Edit battle: ".concat(e.name),children:"Edit"})})]},e.id)}))})]})]})}),(0,r.jsx)("div",{className:"container__item container__item--aside container__item--sticky",children:(0,r.jsx)("div",{className:"item__content",children:(0,r.jsx)(c.z,{onClick:function(){b(!0)},children:"Host Battle"})})}),(0,r.jsx)(h.w,{isOpen:v,onRequestClose:function(){return b(!1)}})]})}},3196:function(e){e.exports={innerPageHeader:"InnerPageHeader_innerPageHeader__HSMOC"}}},function(e){e.O(0,[7367,9774,2888,179],(function(){return t=4747,e(e.s=t);var t}));var t=e.O();_N_E=t}]);
//# sourceMappingURL=my-battles-c305b04096c7900e.js.map